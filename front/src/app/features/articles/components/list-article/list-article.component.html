<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<app-header></app-header>

<div class="container">
    <div class="container-left">
        <button [routerLink]="'create'" mat-flat-button color="purple">
            Cr√©er un article
        </button>
    </div>
    <div class="container-right">
        <button mat-button (click)="sort()">
            <div>
                Trier par : <span class="big material-icons">{{ sortType }}</span>
            </div>
        </button>
    </div>
</div>

<div class="container-articles" *ngIf="(articles$ | async) as articles">
    <mat-card [routerLink]="['detail',article.id.toString()]" appearance="outlined" class="flat-card" *ngFor="let article of articles">
        <mat-card-header>
            <mat-card-title>{{ article.title }}</mat-card-title>
        </mat-card-header>
        <mat-card-content>
            <div class="container-articles-info">
                <p class="articles-info">
                    {{ article.date | date }}
                </p>
                <p class="articles-info" *ngIf="articleUsers">
                    {{ articleUsers.get(article.id)?.username }}
                </p>
            </div>
            <p>
                Contenu: {{ article.content }}
            </p>
        </mat-card-content>
    </mat-card>
</div>
